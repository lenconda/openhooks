(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(70)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},60:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n,s=a(0),l=a.n(s),r=a(15),o=a.n(r),c=(a(38),a(1)),i=a(2),m=a(4),d=a(3),u=a(5),p=(a(39),a(7)),h=a(12),b=a(32);!function(e){e.BOTTOM_CENTER="bottom_center",e.BOTTOM_LEFT="bottom_left",e.BOTTOM_RIGHT="bottom_right",e.TOP_CENTER="top_center",e.TOP_LEFT="top_left",e.TOP_RIGHT="top_right"}(n||(n={}));var E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).storeSubscriptionId=void 0,a.timeoutArray=void 0,a.state={styles:{},toasts:[]},a.storeSubscriptionId=-1,a.timeoutArray=[],a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.storeSubscriptionId=this.props.store.watch(function(t){var a=Object(b.a)({},t,{id:Math.random()});e.setState({toasts:[a].concat(e.state.toasts)});var n=setTimeout(function(){e.setState({toasts:e.state.toasts.filter(function(e){return e.id!==a.id})})},t.timer||3e3);e.timeoutArray.push(n)});var t={};switch(this.props.position){case n.TOP_LEFT:t.top=10,t.left=10;break;case n.TOP_RIGHT:t.top=10,t.right=10;break;case n.TOP_CENTER:t.top=10,t.left="50%",t.transform="translateX(-50%)";break;case n.BOTTOM_LEFT:t.bottom=10,t.left=10;break;case n.BOTTOM_RIGHT:t.bottom=10,t.right=10;break;case n.BOTTOM_CENTER:t.bottom=10,t.left="50%",t.transform="translateX(-50%)";break;default:t.bottom=10,t.right=10}this.setState({styles:t})}},{key:"componentWillUnmount",value:function(){this.props.store.unwatch(this.storeSubscriptionId),this.timeoutArray.forEach(clearTimeout)}},{key:"render",value:function(){return o.a.createPortal(this._renderContainer(),document.body)}},{key:"_renderContainer",value:function(){return l.a.createElement("div",{style:this.state.styles,className:"toasts-container "+(this.props.className||"")},this.state.toasts.map(function(e){return l.a.createElement("div",{className:"alert alert-".concat(e.status," notification"),role:"alert"},e.message)}))}}]),t}(s.Component),f=new(function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,{status:"",message:"",timer:0,classNames:""}))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"success",value:function(e,t,a){this._toast("success",e,t,a)}},{key:"info",value:function(e,t,a){this._toast("info",e,t,a)}},{key:"warning",value:function(e,t,a){this._toast("warning",e,t,a)}},{key:"error",value:function(e,t,a){this._toast("danger",e,t,a)}},{key:"_toast",value:function(e,t,a,n){this.data={classNames:n||"",message:t,status:e,timer:a||3e3}}}]),t}(a(28).WatchableStore)),g=(a(40),a(14)),v=a.n(g);v.a.defaults.timeout=36e5,v.a.interceptors.request.use(function(e){return e.headers={Authorization:"".concat(localStorage.getItem("token")||sessionStorage.getItem("token"))},e}),v.a.interceptors.response.use(function(e){return e.data.data&&"[object String]"===Object.prototype.toString.call(e.data.data)&&f.success(e.data.data),e},function(e){401===e.response.status?(localStorage.removeItem("token"),f.error("Login first, please"),H.push("/login")):e.response.data.message&&f.error(e.response.data.message)});var N=v.a,k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state=void 0,a.login=function(){var e=a.state,t=e.username,n=e.password;N.post("/api/login",{username:t,password:n}).then(function(e){e&&(a.state.rememberUser?localStorage.setItem("token",e.data.data.token):sessionStorage.setItem("token",e.data.data.token)),H.push("/dashboard/hooks")})},a.state={username:"",password:"",rememberUser:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row login"},l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},l.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Sign in"),l.a.createElement("label",{htmlFor:"inputEmail",className:"sr-only"},"Username"),l.a.createElement("input",{type:"email",className:"form-control mb-3",placeholder:"Username",value:this.state.username,onChange:function(t){return e.setState({username:t.target.value})}}),l.a.createElement("label",{htmlFor:"inputPassword",className:"sr-only"},"Password"),l.a.createElement("input",{type:"password",className:"form-control mb-3",placeholder:"Password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),l.a.createElement("div",{className:"checkbox mb-3"},l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",checked:this.state.rememberUser,onChange:function(t){return e.setState({rememberUser:!e.state.rememberUser})}})," Remember me")),l.a.createElement("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",onClick:this.login},"Sign in"),l.a.createElement("p",{className:"mt-5 mb-3 text-mute text-center"},"\xa9 2019 Lenconda."))))}}]),t}(l.a.Component),y=a(11),w=(a(60),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).handleHrefChange=function(e){H.push("".concat(a.props.route,"/").concat(e,"/"))},a.getPages=function(){var e=[],t=a.props.current,n=t-1,s=a.props.total-t;if(n>=2&&s>=2)for(var l=t-2;l<=t+2;l++)e.push(l);else if(n<2&&s>=2)for(var r=a.props.total>5?5:a.props.total,o=1;o<=r;o++)e.push(o);else if(s<2&&n>=2)for(var c=a.props.total>5?a.props.total-4:1;c<=a.props.total;c++)e.push(c);else for(var i=1;i<=a.props.total;i++)e.push(i);return e},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){}},{key:"render",value:function(){var e=this;return l.a.createElement("nav",null,l.a.createElement("ul",{className:"pagination"},l.a.createElement("li",{className:"page-item ".concat(1===this.props.current?"disabled":"")},l.a.createElement("a",{className:"page-link",onClick:function(){1!==e.props.current&&e.handleHrefChange(1)}},"\xab")),l.a.createElement("li",{className:"page-item ".concat(1===this.props.current?"disabled":"")},l.a.createElement("a",{className:"page-link",onClick:function(){1!==e.props.current&&e.handleHrefChange(e.props.current-1)}},"\u2039")),this.props.total<=10||1===this.getPages()[0]?null:l.a.createElement("li",{className:"page-item disabled"},l.a.createElement("a",{className:"page-link"},"...")),this.getPages().map(function(t,a){return l.a.createElement("li",{className:"page-item ".concat(e.props.current===t?"active":""),key:a},l.a.createElement("a",{className:"page-link",onClick:function(){return e.handleHrefChange(t)}},t))}),this.props.total<=10||this.getPages().pop()===this.props.total?null:l.a.createElement("li",null,l.a.createElement("button",{disabled:!0},"...")),l.a.createElement("li",{className:"page-item ".concat(this.props.current===this.props.total?"disabled":"")},l.a.createElement("a",{className:"page-link",onClick:function(){e.props.current!==e.props.total&&e.handleHrefChange(e.props.current+1)}},"\u203a")),l.a.createElement("li",{className:"page-item ".concat(this.props.current===this.props.total?"disabled":"")},l.a.createElement("a",{className:"page-link",onClick:function(){e.props.current!==e.props.total&&e.handleHrefChange(e.props.total)}},"\xbb"))))}}]),t}(l.a.Component)),C=a(29),O=a.n(C),P=function(e){return e?O()(parseInt(e)).format("YYYY-MM-DD HH:mm:ss"):"unknown"},S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).getHooks=function(e){N.get("/api/hooks?page=".concat(e)).then(function(e){e&&a.setState({next:e.data.data.next,data:e.data.data.items,pages:e.data.data.pages})})},a.handleEditHook=function(e){a.setState({editUuid:e.uuid,editCommand:e.command,editDescription:e.description,editAuthentication:e.auth?"0":"1"})},a.clearEditHook=function(){a.setState({editUuid:"",editCommand:"",editDescription:"",editAuthentication:""})},a.updateHook=function(){N.put("/api/hook/".concat(a.state.editUuid),{updates:{command:a.state.editCommand,description:a.state.editDescription,auth:"0"===a.state.editAuthentication}}).then(function(e){e&&a.getHooks(a.state.currentPage),a.clearEditHook()})},a.createHook=function(){N.post("/api/hooks",{command:a.state.createCommand,description:a.state.createDescription,auth:"0"===a.state.createAuthentication}).then(function(e){e&&(a.getHooks(a.props.match.params.page),a.setState({createCommand:"",createDescription:"",createAuthentication:"0"}))})},a.deleteHook=function(e){window.confirm("Sure to delete hook /hooks/".concat(e,"?"))&&N.delete("/api/hook/".concat(e)).then(function(e){e&&a.getHooks(a.state.currentPage)})},a.clearHooks=function(){window.confirm("Sure to CLEAR ALL hooks?")&&N.delete("/api/hooks").then(function(e){e&&a.getHooks(a.state.currentPage)})},a.renderTable=function(){return 0===a.state.data.length?l.a.createElement("span",null,"There are no hooks yet..."):l.a.createElement("div",{className:"overflow-x-auto"},l.a.createElement("table",{className:"table table-bordered table-striped table-hover text-nowrap"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Path"),l.a.createElement("th",null,"Command"),l.a.createElement("th",null,"Description"),l.a.createElement("th",null,"Authentication"),l.a.createElement("th",null,"Update Time"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,a.state.data.map(function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement("code",null,"/hooks/",e.uuid)),l.a.createElement("td",null,l.a.createElement("code",null,e.command)),l.a.createElement("td",null,e.description),l.a.createElement("td",{className:"text-center"},e.auth?l.a.createElement("i",{className:"fa fa-check"}):l.a.createElement("i",{className:"fa fa-times"})),l.a.createElement("td",null,P(e.updateTime)),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-sm btn-danger",onClick:function(){a.deleteHook(e.uuid)}},l.a.createElement("i",{className:"fa fa-trash"})," Delete"),l.a.createElement("button",{type:"button",className:"btn btn-sm btn-warning","data-toggle":"modal","data-target":"#edit_hook",style:{marginLeft:5},onClick:function(){return a.handleEditHook(e)}},l.a.createElement("i",{className:"fa fa-edit"})," Edit")))}))))},a.state={currentPage:1,pages:1,next:!1,data:[],createCommand:"",createDescription:"",createAuthentication:"1",editUuid:"",editCommand:"",editDescription:"",editAuthentication:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getHooks(this.props.match.params.page)}},{key:"componentWillReceiveProps",value:function(e,t){this.setState({currentPage:parseInt(e.match.params.page)}),this.getHooks(e.match.params.page)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"mb-3"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-sm","data-toggle":"modal","data-target":"#add_hook"},l.a.createElement("i",{className:"fa fa-lightbulb"}),"\xa0Add a Hook"),l.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",style:{marginLeft:10},onClick:this.clearHooks},l.a.createElement("i",{className:"fa fa-trash"}),"\xa0Clear All")),this.renderTable(),l.a.createElement("div",{className:"my-3"},0===this.state.data.length?null:l.a.createElement("div",{className:"panel-footer"},l.a.createElement(w,{current:this.state.currentPage,total:this.state.pages,route:"/dashboard/hooks"}))),l.a.createElement("div",{className:"modal fade",id:"add_hook",role:"dialog","aria-labelledby":"myModalLabel"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title text-ellipsis"},l.a.createElement("i",{className:"fa fa-lightbulb"})," Add a Hook"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true",className:"text-white"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Shell command"),l.a.createElement("code",null,l.a.createElement("textarea",{className:"form-control form-control-sm",value:this.state.createCommand,onChange:function(t){return e.setState({createCommand:t.target.value})}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Description"),l.a.createElement("textarea",{className:"form-control form-control-sm",value:this.state.createDescription,onChange:function(t){return e.setState({createDescription:t.target.value})}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Authentication"),l.a.createElement("select",{className:"form-control form-control-sm",onChange:function(t){return e.setState({createAuthentication:t.target.value})}},l.a.createElement("option",{value:"0",selected:"0"===this.state.createAuthentication},"Use access key"),l.a.createElement("option",{value:"1",selected:"1"===this.state.createAuthentication},"Do not use any key")))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{className:"btn btn-sm btn-primary","data-dismiss":"modal"},l.a.createElement("i",{className:"fa fa-times"})," Cancel"),l.a.createElement("button",{className:"btn btn-sm btn-success","data-dismiss":"modal",onClick:this.createHook,disabled:""===this.state.createAuthentication||""===this.state.createDescription||""===this.state.createCommand},l.a.createElement("i",{className:"fa fa-save"})," Save"))))),l.a.createElement("div",{className:"modal fade",id:"edit_hook",role:"dialog","aria-labelledby":"myModalLabel"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title text-ellipsis"},l.a.createElement("i",{className:"fa fa-edit"})," Edit Hook ",this.state.editUuid),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true",className:"text-white"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Shell command"),l.a.createElement("code",null,l.a.createElement("textarea",{className:"form-control form-control-sm",value:this.state.editCommand,onChange:function(t){return e.setState({editCommand:t.target.value})}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Description"),l.a.createElement("textarea",{className:"form-control form-control-sm",value:this.state.editDescription,onChange:function(t){return e.setState({editDescription:t.target.value})}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Authentication"),l.a.createElement("select",{className:"form-control form-control-sm",onChange:function(t){return e.setState({editAuthentication:t.target.value})}},l.a.createElement("option",{value:"0",selected:"0"===this.state.editAuthentication},"Use access key"),l.a.createElement("option",{value:"1",selected:"1"===this.state.editAuthentication},"Do not use any key")))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{className:"btn btn-sm btn-primary","data-dismiss":"modal",onClick:this.clearEditHook},l.a.createElement("i",{className:"fa fa-times"})," Cancel"),l.a.createElement("button",{className:"btn btn-sm btn-success","data-dismiss":"modal",onClick:this.updateHook,disabled:""===this.state.editAuthentication||""===this.state.editAuthentication||""===this.state.editAuthentication},l.a.createElement("i",{className:"fa fa-save"})," Update"))))))}}]),t}(l.a.Component),T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).getKeys=function(e){N.get("/api/keys?page=".concat(e)).then(function(e){e&&a.setState({next:e.data.data.next,data:e.data.data.items,pages:e.data.data.pages})})},a.generateKey=function(){N.post("/api/keys",{}).then(function(e){e&&a.getKeys(a.props.match.params.page)})},a.deleteKey=function(e){window.confirm("Sure to delete key ".concat(e,"?"))&&N.delete("/api/key/".concat(e)).then(function(e){e&&a.getKeys(a.state.currentPage)})},a.clearKeys=function(){window.confirm("Sure to CLEAR ALL keys?")&&N.delete("/api/keys").then(function(e){e&&a.getKeys(a.state.currentPage)})},a.renderTable=function(){return 0===a.state.data.length?l.a.createElement("span",null,"There are no keys yet..."):l.a.createElement("div",{className:"overflow-x-auto"},l.a.createElement("table",{className:"table table-bordered table-striped table-hover text-nowrap"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Key"),l.a.createElement("th",null,"Create Time"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,a.state.data.map(function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement("code",null,e.value)),l.a.createElement("td",null,P(e.createTime)),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-sm btn-danger",onClick:function(){a.deleteKey(e.value)}},l.a.createElement("i",{className:"fa fa-trash"})," Delete")))}))))},a.state={currentPage:1,pages:1,next:!1,data:[],createCommand:"",createDescription:"",createAuthentication:"1",editUuid:"",editCommand:"",editDescription:"",editAuthentication:"",showSuccessAlert:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getKeys(this.props.match.params.page)}},{key:"componentWillReceiveProps",value:function(e,t){this.setState({currentPage:parseInt(e.match.params.page)}),this.getKeys(e.match.params.page)}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"mb-3"},l.a.createElement("button",{type:"button",onClick:this.generateKey,className:"btn btn-success btn-sm"},l.a.createElement("i",{className:"fa fa-key"}),"\xa0Generate Key"),l.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",style:{marginLeft:10},onClick:this.clearKeys},l.a.createElement("i",{className:"fa fa-trash"}),"\xa0Clear All")),this.renderTable(),l.a.createElement("div",{className:"my-3"},0===this.state.data.length?null:l.a.createElement("div",{className:"panel-footer"},l.a.createElement(w,{current:this.state.currentPage,total:this.state.pages,route:"/dashboard/keys"}))))}}]),t}(l.a.Component),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).getHistories=function(e){N.get("/api/histories?page=".concat(e)).then(function(e){e&&a.setState({next:e.data.data.next,data:e.data.data.items,pages:e.data.data.pages})})},a.handleViewHistory=function(e){a.setState({currentHistory:e})},a.renderTable=function(){return 0===a.state.data.length?l.a.createElement("span",null,"There are no histories yet..."):l.a.createElement("div",{className:"overflow-x-auto"},l.a.createElement("table",{className:"table table-bordered table-striped table-hover text-nowrap"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Hook"),l.a.createElement("th",null,"Trigger Time"),l.a.createElement("th",null,"Result"),l.a.createElement("th",null,"Status"))),l.a.createElement("tbody",null,a.state.data.map(function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement("code",null,"/hooks/",e.routerId)),l.a.createElement("td",null,P(e.triggerTime)),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-primary btn-sm","data-toggle":"modal","data-target":"#view_result",onClick:function(){a.handleViewHistory(e)}},l.a.createElement("i",{className:"fa fa-eye"})," View")),l.a.createElement("td",null,e.succeeded?l.a.createElement("span",{className:"badge badge-pill badge-success"},l.a.createElement("i",{className:"fa fa-smile"})," Succeded"):l.a.createElement("span",{className:"badge badge-pill badge-danger"},l.a.createElement("i",{className:"fa fa-frown"})," Failed")))}))))},a.state={currentPage:1,pages:1,next:!1,data:[],currentHistory:{uuid:"",result:"",routerId:"",triggerTime:"",succeeded:!1}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getHistories(this.props.match.params.page)}},{key:"componentWillReceiveProps",value:function(e,t){this.setState({currentPage:parseInt(e.match.params.page)}),this.getHistories(e.match.params.page)}},{key:"render",value:function(){return l.a.createElement("div",null,this.renderTable(),l.a.createElement("div",{className:"my-3"},0===this.state.data.length?null:l.a.createElement("div",{className:"panel-footer"},l.a.createElement(w,{current:this.state.currentPage,total:this.state.pages,route:"/dashboard/histories"}))),l.a.createElement("div",{className:"modal fade",id:"view_result",role:"dialog","aria-labelledby":"myModalLabel"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title text-ellipsis"},l.a.createElement("i",{className:"fa fa-eye"})," View Result of ",this.state.currentHistory.uuid),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true",className:"text-white"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("pre",null,l.a.createElement("code",null,this.state.currentHistory.result))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{className:"btn btn-sm btn-primary","data-dismiss":"modal"},l.a.createElement("i",{className:"fa fa-check"})," OK"))))))}}]),t}(l.a.Component),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).getProfile=function(){N.get("/api/profile").then(function(e){e&&a.setState({username:e.data.data.username,editUsername:e.data.data.username,userId:e.data.data.uuid})})},a.logout=function(){localStorage.removeItem("token"),sessionStorage.removeItem("token"),H.push("/login")},a.updateUsername=function(){N.put("/api/profile",{updates:{username:a.state.editUsername}}).then(function(e){e&&a.getProfile()})},a.updatePassword=function(){a.state.retypePassword===a.state.editPassword?N.put("/api/profile",{updates:{password:a.state.oldPassword,newPassword:a.state.editPassword}}):f.error("New password does not equals to retyped password")},a.state={username:"",userId:"",editUsername:"",oldPassword:"",editPassword:"",retypePassword:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getProfile()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("nav",{className:"navbar navbar-dark bg-dark mb-4"},l.a.createElement(y.a,{className:"navbar-brand",to:"/dashboard"},l.a.createElement("img",{src:"/logo.png",height:"30px",width:"30px",alt:""})),l.a.createElement("button",{className:"navbar-toggler d-lg-none d-xl-none",type:"button","data-toggle":"collapse","data-target":"#user","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("i",{className:"fa fa-user"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"user"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",role:"button","data-toggle":"modal","data-target":"#update_username"},l.a.createElement("i",{className:"fa fa-edit"})," Change username")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",role:"button","data-toggle":"modal","data-target":"#update_password"},l.a.createElement("i",{className:"fa fa-key"})," Change password")),l.a.createElement("div",{className:"dropdown-divider"}),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",role:"button",onClick:this.logout},l.a.createElement("i",{className:"fa fa-sign-out-alt"})," Logout"))))),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"d-xs-block d-sm-block d-md-block d-lg-none d-xl-none"},l.a.createElement("ul",{className:"nav nav-pills mb-3"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(y.a,{to:"/dashboard/hooks",className:"nav-link"},"Hooks")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(y.a,{to:"/dashboard/keys",className:"nav-link"},"Keys")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(y.a,{to:"/dashboard/histories",className:"nav-link"},"Histories")))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col col-xl-2 col-lg-3"},l.a.createElement("div",{className:"d-none d-xs-none d-sm-none d-md-none d-lg-block d-xl-block"},l.a.createElement("ul",{className:"nav nav-pills flex-column mb-3"},l.a.createElement("li",{className:"nav-item dropdown",style:{width:"100%"}},l.a.createElement("a",{className:"nav-link dropdown-toggle text-ellipsis","data-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false"},l.a.createElement("i",{className:"fa fa-user-circle"})," ",this.state.username),l.a.createElement("div",{className:"dropdown-menu"},l.a.createElement("a",{className:"dropdown-item",role:"button","data-toggle":"modal","data-target":"#update_username"},l.a.createElement("i",{className:"fa fa-edit"})," Change username"),l.a.createElement("a",{className:"dropdown-item",role:"button","data-toggle":"modal","data-target":"#update_password"},l.a.createElement("i",{className:"fa fa-key"})," Change password"),l.a.createElement("div",{className:"dropdown-divider"}),l.a.createElement("a",{className:"dropdown-item",role:"button",onClick:this.logout},l.a.createElement("i",{className:"fa fa-sign-out-alt"})," Logout"))),l.a.createElement("hr",null),l.a.createElement("li",{className:"nav-item"},l.a.createElement(y.a,{to:"/dashboard/hooks",className:"nav-link"},"Hooks")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(y.a,{to:"/dashboard/keys",className:"nav-link"},"Keys")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(y.a,{to:"/dashboard/histories",className:"nav-link"},"Histories"))))),l.a.createElement("div",{className:"col-12 col-xl-10 col-lg-9"},l.a.createElement(h.d,null,l.a.createElement(h.b,{path:"/dashboard/hooks/:page",component:S}),l.a.createElement(h.b,{path:"/dashboard/keys/:page",component:T}),l.a.createElement(h.b,{path:"/dashboard/histories/:page",component:j}),l.a.createElement(h.a,{from:"/dashboard/keys",to:"/dashboard/keys/1/"}),l.a.createElement(h.a,{from:"/dashboard/histories",to:"/dashboard/histories/1/"}),l.a.createElement(h.a,{from:"/dashboard/hooks",to:"/dashboard/hooks/1/"}),l.a.createElement(h.a,{from:"/dashboard",to:"/dashboard/hooks"}))))),l.a.createElement("div",{className:"modal fade",id:"update_username",role:"dialog","aria-labelledby":"myModalLabel"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title text-ellipsis"},l.a.createElement("i",{className:"fa fa-user-circle"})," Rename for ",this.state.username,"(",this.state.userId,")"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true",className:"text-white"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"form-group form-group-sm"},l.a.createElement("label",null,"New username"),l.a.createElement("input",{className:"form-control form-control-sm",value:this.state.editUsername,onChange:function(t){return e.setState({editUsername:t.target.value})}}))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{className:"btn btn-sm btn-primary","data-dismiss":"modal"},l.a.createElement("i",{className:"fa fa-times"})," Cancel"),l.a.createElement("button",{className:"btn btn-sm btn-success","data-dismiss":"modal",onClick:this.updateUsername,disabled:""===this.state.editUsername},l.a.createElement("i",{className:"fa fa-save"})," Update"))))),l.a.createElement("div",{className:"modal fade",id:"update_password",role:"dialog","aria-labelledby":"myModalLabel"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title text-ellipsis"},l.a.createElement("i",{className:"fa fa-key"})," Change password"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true",className:"text-white"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Old password"),l.a.createElement("input",{className:"form-control form-control-sm",type:"password",value:this.state.oldPassword,onChange:function(t){return e.setState({oldPassword:t.target.value})}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"New password"),l.a.createElement("input",{className:"form-control form-control-sm",type:"password",value:this.state.editPassword,onChange:function(t){return e.setState({editPassword:t.target.value})}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Retype password"),l.a.createElement("input",{className:"form-control form-control-sm",type:"password",value:this.state.retypePassword,onChange:function(t){return e.setState({retypePassword:t.target.value})}}))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{className:"btn btn-sm btn-primary","data-dismiss":"modal"},l.a.createElement("i",{className:"fa fa-times"})," Cancel"),l.a.createElement("button",{className:"btn btn-sm btn-success","data-dismiss":"modal",onClick:this.updatePassword,disabled:""===this.state.oldPassword||""===this.state.editPassword},l.a.createElement("i",{className:"fa fa-save"})," Update"))))))}}]),t}(l.a.Component),H=Object(p.b)(),A=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(h.c,{history:H},l.a.createElement(h.d,null,l.a.createElement(h.b,{path:"/login",component:k}),l.a.createElement(h.b,{path:"/dashboard",component:x}),l.a.createElement(h.a,{to:"/dashboard"}))),l.a.createElement(E,{position:n.TOP_CENTER,store:f}))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.e2df3009.chunk.js.map